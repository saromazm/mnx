{"version":3,"file":"js/zyxd6ef39952bdb55782fda.js","sources":["webpack:///resources/react/components/login/PrivateContent.js","webpack:///./resources/react/components/internal/Internal.js","webpack:///./resources/react/components/login/Login.js"],"sourcesContent":["/*\n * File: PrivateContent.js | Package: monoux\n *\n * Author:    Miguel Zamora Serrano <mzamoras@backlogics.com>\n * Created:   18 Apr, 2017 | 1:55 AM\n *\n * This file is part of a package and all the information, intellectual\n * and technical concepts contained here are property of their owners.\n * Any kind of use, reproduction, distribution, publication, etc. without\n * express written permission from CapitalMental && BackLogics Technologies\n * is strictly forbidden.\n *\n * CapitalMental && BackLogics Technologies\n * Copyright 2014-present. | All rights reserved.\n */\n\n//React Basics\n//noinspection JSUnresolvedVariable\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'react-autobind-helper';\n\n//Router\nimport {withRouter} from 'react-router-dom';\n\n//Components\nimport SimpleLoader from '../global/SimpleLoader';\nimport {ComponentLoader} from '../global/Bundle';\nimport loginLoader from 'bundle-loader?lazy&name=[name]!../login/Login';\nimport internalLoader from 'bundle-loader?lazy&name=[name]!../internal/Internal';\n\nclass PrivateContent extends React.Component {\n\n    constructor( props ) {\n        super( props );\n        autobind( this );\n    }\n\n    /** O P E R A T I O N S **/\n    /** ************************************************* **/\n\n    checkStatus() {\n        this.props.actions.checkAuthStatus().catch( () => {\n            this.props.history.push( '/error' );\n        } );\n    }\n\n    /** L I F E C Y C L E **/\n    /** ************************************************* **/\n\n    componentWillUpdate(nextProps) {\n\n        const { secured, auth, error } = nextProps;\n\n        if ( error ) {\n            return\n        }\n\n        if ( !secured || !auth ) {\n            this.checkStatus();\n        }\n    }\n\n\n    componentWillMount() {\n        this.checkStatus();\n    }\n\n\n    /** R E N D E R **/\n    /** ************************************************* **/\n\n    render() {\n        const { secured, auth, init, error } = this.props;\n\n        const authenticated = !secured || !auth;\n        const authComponent = authenticated ? loginLoader : internalLoader;\n\n        return init && !error\n            ? <ComponentLoader loader={authComponent} />\n            : <SimpleLoader/>;\n\n    }\n\n    static propTypes    = {\n        className: PropTypes.string,\n    };\n\n}\n\n/** R E D U X   S T O R E **/\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {checkAuthStatus} from '../../store/modules/session';\n\nconst mapToStateProps = ( { session } ) => {\n    return {\n        preferences: session.get( 'preferences' ),\n        auth       : session.get( 'auth' ),\n        secured    : session.get( 'secured' ),\n        init       : session.get( 'init' ),\n        error      : session.get( 'error' ),\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        actions: bindActionCreators( { checkAuthStatus }, dispatch )\n    }\n};\n\nexport default withRouter( connect( mapToStateProps, mapDispatchToProps )( PrivateContent ) );\n\n\n// WEBPACK FOOTER //\n// resources/react/components/login/PrivateContent.js","module.exports = function(cb) {\n\trequire.ensure([], function(require) {\n\t\tcb(require(\"!!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/eslint-loader/index.js??ref--0!./Internal.js\"));\n\t}, \"Internal\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/bundle-loader?lazy&name=[name]!./resources/react/components/internal/Internal.js\n// module id = ./node_modules/bundle-loader/index.js?lazy&name=[name]!./resources/react/components/internal/Internal.js\n// module chunks = 0","module.exports = function(cb) {\n\trequire.ensure([], function(require) {\n\t\tcb(require(\"!!../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../node_modules/eslint-loader/index.js??ref--0!./Login.js\"));\n\t}, \"Login\");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/bundle-loader?lazy&name=[name]!./resources/react/components/login/Login.js\n// module id = ./node_modules/bundle-loader/index.js?lazy&name=[name]!./resources/react/components/login/Login.js\n// module chunks = 0"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAGA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAGA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;;;AAnDA;AAsDA;AADA;AACA;AAKA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;;;;;;;;;;;;;AC/GA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}